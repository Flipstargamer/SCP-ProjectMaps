{"OnPlayerSpawn":{"files":[{"id":0,"scrname":"Health","language":"lox","content":"if (Plr.Class == \"SCP-049-2\") {\n wait(1);\n SetMaxHealth(Plr, 180);\n SetSpeed(Plr, 18);\n SetBypass(Plr, true);\n}"}]},"RunHook":{"files":[{"id":0,"language":"lox","content":"// New file"}]},"OnNukeStart":{"files":[]},"OnPlayer914Upgrade":{"files":[]},"OnPlayerLeave":{"files":[]},"OnRoundStart":{"files":[{"id":0,"scrname":"Start","language":"lox","content":"SetGlobal(\"Escape\", false);\nSetGlobal(\"Kills\", 0);\nSetGlobal(\"RequiredKills\", #GetPlayers());\nSetRoundLock(true);\nSetFF(\"OFF\");\n\nvar amountOfMTF = round(#GetPlayers() * 0.33);\nvar amountOfResearch = round(#GetPlayers() * 0.33);\n\nprint amountOfMTF;\nprint amountOFResearch;\n\nvar players = GetPlayers();\nvar index = 1;\nvar random = 0;\n\nwait(1);\n\nfor (var i = 1; i <= #players; i = i + 1) {\n index = i;\n ClearInventory(players[index]);\n Kill(players[index]);\n}\n\nwait(2);\n\nClearRagdolls();\n\nfor (var i = 1; i <= amountOfResearch; i = i + 1) {\n random = rand(1, #players);\n SetClass(players[random], \"Researcher\");\n players = GetPlayersInTeam(\"LOBBY\");\n}\n\nvar commanders = 1;\nvar liet = 2;\n\nfor (var i = 1; i <= amountOfMTF; i = i + 1) {\n random = rand(1, #players);\n if (#GetPlayersInTeam(\"MTF Commander\") < commanders) {\n  SetClass(players[random], \"MTF Commander\");\n } else if (#GetPlayersInTeam(\"MTF Lieutenant\") < liet) {\n  SetClass(players[random], \"MTF Lieutenant\");\n } else {\n  SetClass(players[random], \"MTF Cadet\");\n }\n players = GetPlayersInTeam(\"LOBBY\");\n}\n\nfor (var i = 1; i <= #players; i = i + 1) {\n index = i;\n SetClass(players[index], \"SCP-049-2\");\n}\n\nSetGlobal(\"RoundActive\", true);"},{"id":1,"scrname":"CheckWin","language":"lox","content":"wait(10);\nvar index = 1;\n\nwhile (GetGlobal(\"RoundActive\")) { \n var amountOfPlayersAlive = #GetPlayers() - #GetPlayersInTeam(\"SCP-049-2\");\n \n if (amountOfPlayersAlive == 0) {\n  SetRoundLock(false);\n  Announce(\"Zombies Win!\");\n  SetGlobal(\"RoundActive\", false);\n }\n\n if (GetGlobal(\"Kills\") == GetGlobal(\"RequiredKills\")) {\n  if (GetGlobal(\"Escape\")) {\n   SetRoundLock(false);\n   Announce(\"Foundation Win!\");\n   SetGlobal(\"RoundActive\", false);\n  \n   var zombies = GetPlayersInTeam(\"SCP-049-2\");\n   for (var i = 1; i <= #zombies; i = i + 1) {\n    index = i;\n    Kill(zombies[index]);\n   }\n  } else if (#GetPlayersInTeam(\"Researcher\") == 0) {\n   SetRoundLock(false);\n   Announce(\"Stalemate!\");\n   SetGlobal(\"RoundActive\", false);\n  \n   var zombies = GetPlayersInTeam(\"SCP-049-2\");\n   for (var i = 1; i <= #zombies; i = i + 1) {\n    index = i;\n    Kill(zombies[index]);\n   }\n  }\n }\n wait(3);\n}"}]},"OnGrenadeExplode":{"files":[]},"OnPlayerChatted":{"files":[{"id":0,"scrname":"Info","language":"lox","content":"if (Message == \"/info\") {\n SendChatMessage(\"Welcome to Insanity Inc. a sever that hosts a wide range of gamemodes\", Plr);\n wait(3);\n SendChatMessage('Type \"/gamemodeinfo\" to learn about the current active gamemode', Plr);\n}\n\nif (Message == \"/gamemodeinfo\") {\n SendChatMessage('Spawn in as NTF, Researcher or a Zombie', Plr);\n wait(3);\n SendChatMessage('Escape as a researcher to meet the first win condition for the foundation', Plr);\n wait(4);\n SendChatMessage('As NTF, kill Zombies and escort Researchers to meet the win conditions', Plr);\n wait(4);\n SendChatMessage('As zombies, turn everyone into your fellow zombies', Plr);\n wait(4);\n SendChatMessage('The win conditons for foundation is to have a researcher escape and a certain amount of zombie kills', Plr);\n wait(6);\n SendChatMessage('Zombies win condition is to turn everyone into a zombie', Plr);\n}"}]},"OnPlayerEscapeAttempt":{"files":[{"id":0,"scrname":"WinCondition","language":"lox","content":"if (OldClass == \"Researcher\") {\n SetGlobal(\"Escape\", true);\n}"}]},"OnNukeCancel":{"files":[]},"OnPlayerKill":{"files":[{"id":0,"scrname":"RespawnFix","language":"lox","content":"if (GetGlobal(\"RoundActive\")) {\n wait(6);\n if (GetGlobal(\"RoundActive\") and Target.Class == \"LOBBY\") {\n  SetClass(Target, \"SCP-049-2\");\n  wait(0.5);\n  Teleport(Target, Vec3(-2471, 1106, -179));\n }\n}"},{"id":1,"scrname":"WinCondition","language":"lox","content":"if (Killer.Class != \"SCP-049-2\") {\n SetGlobal(\"Kills\", GetGlobal(\"Kills\") + 1);\n}"}]},"OnPlayerDeath":{"files":[{"id":0,"scrname":"Respawn","language":"lox","content":"if (GetGlobal(\"RoundActive\")) {\n print(Plr.Class);\n wait(5);\n if (GetGlobal(\"RoundActive\")) {\n  SetClass(Plr, \"SCP-049-2\");\n  wait(0.5);\n  Teleport(Plr, Vec3(-2471, 1106, -179));\n }\n}"}]},"OnPlayerPickItem":{"files":[]},"OnNukeExplosion":{"files":[]},"OnPlayerJoin":{"files":[{"id":0,"scrname":"Spawn","language":"lox","content":"SendChatMessage(\"You will be spawning in soon, say /info for info about the server.\", Plr);\nif (GetGlobal(\"RoundActive\")) {\n wait(30);\n SetClass(Plr, \"SCP-049-2\");\n wait(0.5);\n Teleport(Plr, Vec3(-2471, 1106, -179));\n}"}]},"OnRoundEnd":{"files":[{"id":0,"scrname":"Globals","language":"lox","content":"SetGlobal(\"RoundActive\", false);"}]},"ItemPassedTrough914":{"files":[]},"HooksStarted":{"files":[]}}