{"OnPlayerSpawn":{"files":[{"id":0,"scrname":"SCPChangeAlert","language":"lox","content":"wait(1);\nif (sub(Plr.Class, 0, 3) == \"SCP\" and GetGlobal(\"SCPSwitch\"))  {\n SendChatMessage(\"Ability to switch SCPs will be active for 90 seconds, type /scp <scp number> to switch\", Plr);\n}"},{"id":1,"scrname":"SCP","language":"lox","content":"if (Class == \"SCP-939\") {\n wait(1);\n SetSpeed(Plr, 100);\n SetJump(Plr, 100);\n SetMaxHealth(Plr, 400);\n}\n\nif (sub(Class, 0, 3) == \"SCP\") {\n wait(1);\n SetMaxHealth(Plr, Plr.MaxHealth * 2.5);\n SetHealth(Plr, Plr.MaxHealth);\n}"}]},"RunHook":{"files":[]},"OnNukeStart":{"files":[]},"OnPlayer914Upgrade":{"files":[]},"OnPlayerLeave":{"files":[]},"OnRoundStart":{"files":[{"id":0,"scrname":"SCP","language":"lox","content":"SetGlobal(\"SCPSwitch\", true);\nwait(90);\nSetGlobal(\"SCPSwitch\", false);"},{"id":1,"scrname":"Globals","language":"lox","content":"SetGlobal(\"Nuked\", false);\nSetGlobal(\"ActiveRound\", true);\n\nSetFF(\"OFF\");\nSetInfAmmo(true);\nSetAutoNukeEnabled(true);"},{"id":2,"scrname":"JuggernautTimer","language":"lox","content":"wait(10);\nvar timer = 10;\nvar timeTillJug = 60 * 12;\nvar juggAlreadySpawned = 0;\nvar juggsRemaining = 1;\n\nif (#GetPlayers() >= 10) {\n juggsRemaining = 2;\n timeTillJug = 60 * 7;\n print \"Setting jugg to 10\";\n} \nif (#GetPlayers() >= 20) {\n juggsRemaining = 3;\n timeTillJug = 60 * 5;\n print \"Setting jugg to 20\";\n}\n\nwhile (GetGlobal(\"ActiveRound\") and juggAlreadySpawned < juggsRemaining) {\n wait(1);\n timer = timer + 1;\n if (timer >= timeTillJug and juggAlreadySpawned < juggsRemaining) {\n  SetGlobal(\"Juggernaut\", true);\n  juggAlreadySpawned = juggAlreadySpawned + 1;\n  timer = 0;\n  print \"Juggernaut Ready\";\n }\n}"}]},"OnGrenadeExplode":{"files":[]},"OnPlayerChatted":{"files":[{"id":0,"scrname":"ChangeSCP","language":"lox","content":"if (sub(Message, 0, 5) == \"/scp \") {\n if (Plr.Health == Plr.MaxHealth) {\n  if (GetGlobal(\"SCPSwitch\") and sub(Plr.Class, 0, 3) == \"SCP\" and #GetPlayersInTeam(\"SCP-\" + sub(Message, 6, #Message))) {\n   SetClass(Plr, \"SCP-\" + sub(Message, 6, #Message));\n  } else {\n   SendChatMessage(\"Failed to switch, too many players in that SCP or timer expired\", Plr);\n  }\n } else {\n  SendChatMessage(\"Failed to switch due to not having max HP\", Plr);\n }\n}\n"},{"id":1,"scrname":"JuggAdmin","language":"lox","content":"if (Plr.Name == \"Flipstargamer\") {\n if (Message == \"/nextjugg\") {\n  SetGlobal(\"Juggernaut\", true);\n }\n}"},{"id":2,"scrname":"die","language":"lox","content":"if (Message == \"/die\") {\n Kill(Plr);\n}"},{"id":3,"scrname":"Info","language":"lox","content":"if (Message == \"/info\") {\n SendChatMessage(\"Welcome to Insanity Inc. a server that hosts a wide range of gamemodes\", Plr);\n wait(4);\n SendChatMessage(\"Type /gamemodeinfo for info about the current active gamemode\", Plr);\n}\n\nif (Message == \"/gamemodeinfo\") {\n SendChatMessage(\"Blitz is a gamemode where players immediatly respawn\", Plr);\n wait(4);\n SendChatMessage(\"The way to win this gamemode is to rush nuke and kill everyone on the enemy teams\", Plr);\n wait(4);\n SendChatMessage(\"Juggernauts spawn every now and then. They spawn with a bunch of health, a minigun and a O5 Keycard\", Plr);\n wait(5);\n SendChatMessage(\"Finnaly SCPs can switch their SCP. The command will be displayed once you spawn in as one\", Plr);\n}"}]},"OnPlayerEscapeAttempt":{"files":[]},"OnNukeCancel":{"files":[]},"OnPlayerKill":{"files":[{"id":0,"scrname":"Doc","language":"lox","content":"if (Killer.Class == \"SCP-049\") {\n SetHealth(Killer, Killer.Health + 150);\n}"},{"id":1,"scrname":"RespawnFix","language":"lox","content":"wait(10);\nif (Target.Class == \"LOBBY\" and !GetGlobal(\"Nuked\") and !Target.Overwatch) {\n Announce(\"Failed to respawn, attempting fix.\", Target);\n SetClass(Target, \"TEAM [1]\");\n wait(3);\n Kill(Target);\n}"}]},"OnPlayerDeath":{"files":[{"id":0,"scrname":"Respawn","language":"lox","content":"\n\nprint GetGlobal(\"Juggernaut\");\nif (GetGlobal(\"Juggernaut\")) {\n print \"spawning in as jugg\";\n if (!GetGlobal(\"Nuked\")) {\n SetGlobal(\"Juggernaut\", false);\n wait(7);\n var random = rand(1,4);\n\n if (random == 1) {\n  SetClass(Plr, \"MTF Commander\");\n  Announce(\"A NTF Juggernaut was deployed.\");\n }\n\n if (random == 2) {\n  SetClass(Plr, \"GOC Captain\");\n  Announce(\"A GOC Juggernaut was deployed.\");\n }\n\n if (random == 3) {\n  SetClass(Plr, \"CI Delta\");\n  Announce(\"A CI Juggernaut was deployed.\");\n }\n\n if (random == 4) {\n  SetClass(Plr, \"Serpents Hand\");\n  Announce(\"A SH Juggernaut was deployed.\");\n }\n\n wait(3);\n \n SetMaxHealth(Plr, 500);\n SetHealth(Plr, 500);\n SetArmor(Plr, 750);\n SetSpeed(Plr, 11);\n SetJump(Plr, 25);\n GiveItem(Plr, \"[Admin Panel] Minigun\");\n GiveItem(Plr, \"O5 Keycard\");\n ModifyPlayerAmmo(Plr, \"SmallCaliber\", 300);\n\n SetAudioId(9040416972);\n PlayAudio();\n wait(33);\n StopAudio();\n}\n} else {\n print \"DAM\";\n if (!GetGlobal(\"Nuked\")) {\n wait(7);\n print \"waiting\";\n print \"spawning\";\n var random = rand(1,4);\n\n if (random == 1) {\n  random = rand(1,30);\n  if (random <= 5) {\n   SetClass(Plr, \"MTF Commander\");\n  } else if (random <= 12) {\n   SetClass(Plr, \"MTF Lieutenant\");\n  } else {\n   SetClass(Plr, \"MTF Cadet\");\n  }\n }\n\n if (random == 2) {\n  random = rand(1,30);\n  if (random <= 5) {\n   SetClass(Plr, \"CI Delta\");\n  } else if (random <= 12) {\n   SetClass(Plr, \"CI Gamma\");\n  } else {\n   SetClass(Plr, \"CI Beta\");\n  }\n }\n\n if (random == 3) {\n  random = rand(1,30);\n  if (random <= 5) {\n   SetClass(Plr, \"GOC Captain\");\n  } else if (random <= 12) {\n   SetClass(Plr, \"GOC Corporal\");\n  } else {\n   SetClass(Plr, \"GOC Private\");\n  }\n }\n \n if (random == 4) {\n  SetClass(Plr, \"Serpents Hand\");\n }\n\n SetGodmode(Plr, false);\n}\n}"}]},"OnPlayerPickItem":{"files":[]},"OnNukeExplosion":{"files":[{"id":0,"scrname":"Nuked","language":"lox","content":"SetGlobal(\"Nuked\", true);\nSendChatMessage(\"Nuke exploded, spawning disabled till next round\");"}]},"OnPlayerJoin":{"files":[{"id":0,"scrname":"SpawnJoin","language":"lox","content":"wait(10);\nSendChatMessage(\"Welcome, you will be spawning in soon, say /info for more info about the server\", Plr);\nif (!GetGlobal(\"Nuked\")) {\n wait(20);\n var random = rand(1,2);\n\n if (random == 1) {\n  random = rand(1,30);\n  if (random <= 5) {\n   SetClass(Plr, \"MTF Commander\");\n  } else if (random <= 12) {\n   SetClass(Plr, \"MTF Lieutenant\");\n  } else {\n   SetClass(Plr, \"MTF Cadet\");\n  }\n }\n\n if (random == 2) {\n  random = rand(1,30);\n  if (random <= 5) {\n   SetClass(Plr, \"CI Delta\");\n  } else if (random <= 12) {\n   SetClass(Plr, \"CI Gamma\");\n  } else {\n   SetClass(Plr, \"CI Beta\");\n  }\n }\n}"}]},"OnRoundEnd":{"files":[{"id":0,"scrname":"Globals","language":"lox","content":"SetGlobal(\"Nuked\", true);\nSetGlobal(\"ActiveRound\", false);\nSetGlobal(\"Juggernaut\", false);"},{"id":1,"scrname":"Intermission","language":"lox","content":"wait(3);\n\nvar index = 1;\nvar players = GetPlayers();\n\nfor (var i = 1; i <= #players; i = i + 1) {\n index = i;\n SetClass(players[index], \"TEAM [4]\");\n}"}]},"ItemPassedTrough914":{"files":[]},"HooksStarted":{"files":[{"id":0,"scrname":"Globals","language":"lox","content":"SetGlobal(\"Nuked\", true);\nprint \"Game Started\";"}]}}